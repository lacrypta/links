// NextJS
import getConfig from "next/config";

// Components
import Head from "next/head";
import Footer from "../components/Footer";
import Container from "../components/Container";
import Paper from "../components/Paper";
import Title from "../components/Title";
import PaperBody from "../components/PaperBody";
import LinksList from "../components/LinksList";
import Logo from "../components/Logo";

// Types
import { ILink } from "../types/link";

// Google Tag manager
import TagManager, { TagManagerArgs } from "react-gtm-module";
import { useEffect } from "react";
const tagManagerArgs: TagManagerArgs = {
  gtmId: "GTM-WZGV6DS",
};

// Get Config
const config = getConfig().publicRuntimeConfig;

export default function Home() {
  useEffect(() => {
    TagManager.initialize(tagManagerArgs);
  });

  return (
    <div>
      <Head>
        <title>{config.settings.head.title}</title>
        <meta name='description' content='Generated by create next app' />
        <link rel='icon' href='/favicon.ico' />
      </Head>

      <Container>
        <Paper>
          <Logo />
          <Title>{config.settings.main.title}</Title>
          <div className='divide-y divide-gray-300/50'>
            <PaperBody>
              <LinksList links={config.blocks as ILink[]} />
            </PaperBody>
            <Footer>
              <p className='text-slate-400'>Copialo GRATIS!</p>
            </Footer>
          </div>
        </Paper>
      </Container>
    </div>
  );
}
